<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=960, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>JW Developer | Demo Template</title>
    <link rel="icon" type="image/png" href="/img/favicon.ico">

   	<!-- Responsive and mobile friendly stuff -->
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="/assets/css/col.css" media="all">
  <link rel="stylesheet" href="/assets/css/style.css">

	<!-- JS -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
	<script type="text/javascript" src="http://jwpsrv.com/library/5V3tOP97EeK2SxIxOUCPzg.js"></script>
	<script src="http://maps.google.com/maps/api/js?sensor=false&v=3.17" type="text/javascript"></script>

	<style>

	.DemoWidget {
		height: 200px;
		width: 240px;
		margin: 0 0 20px 0;
		color: #000;
		position: relative;
	}
	#Twitter {
	  background: transparent;
	}
	#Flickr span {
		position: absolute;
		width: 255px;
		text-align: right;
		font-size: 1.1em;
		line-height: 1.75em;
		font-weight: bold;
		color: #000;
		display: none;
		top: 25px; left: 22px;
	}
	.FlickrSearch {
		display:none;
	}
	#Flickr ul {
		position: absolute;
		bottom: 5px; left: 12px;
	}
	#Flickr ul li {
		float: left;
		display: block;
		margin-left:2px;
		margin-right:2px;
	}
	.Loading {
		height: 265px; 
		width: 220px;
		position: absolute;
		left: 0px; 
		top: 0px;
		z-index: 100;
	}

	#map {
		width:90%;
		height:550px;
	  }
      #Twitter, #Flickr {
        display: block;
        float: left; 
        background-color: #444;
        width: 240px;
        height: 200px;
        margin: 20px 20px 0 0;
        padding: 8px 10px 12px 15px;
        background: transparent url('//s3.amazonaws.com/demo.jwplayer.com/timeline-interaction/cards.png');
      }
      #Flickr p {
        margin: 0;
        font-weight: bold;
        font-size: 14px;
        font-family: "Arial";
        display: block;
        margin: 12px 0;
        background: transparent url('//s3.amazonaws.com/demo.jwplayer.com/timeline-interaction/flickr.png') 210px 0 no-repeat;
      }
	  #FlickrImages {
		width: 240px;
		height: 200px;
		position:absolute;
		top:48px;
		margin-left:-38px;
	  }
      #Flickr p a {
        color: #CCC;
        text-decoration: none;
      }
      #Flickr p a:hover {
        text-decoration: underline;
      }
	  #statue, #central, #wtc, #rock, #times, #ch {
		display: none;
	  }
    </style>

</head>

<body>

	<nav>
		<img src="//icons.jwplayer.com/social/jw-logo-white.svg" width="104"/><p>developer</p>
	</nav>

	<header>
	<h2>Timeline Interaction</h2>
    <p>This JW Player demo shows Twitter tweets, Flickr photos and Google Maps markers synced to a video timeline.</p> 
	</header>

  <div class="metadata">
    <ul>
      <li><span>License:</span> Enterprise</li>
      <li><span>Player Version:</span> 6.12.4956</li>
      <li><a href="#">Github</a></li>
    </ul>
  </div>

	<div class="demo">

	<div class="section group">
		<!-- LEFT COLUMN - VIDEO PLAYER HERE -->
		<div class="col span_1_of_2">
			<div id="player1"></div>
		</div>

		<div class="col span_1_of_2">

		<!-- JAVASCRIPT HERE -->
<script type="text/javascript">

jwplayer("player1").setup({
    file: "http://content.jwplatform.com/videos/lWMJeVvV-52qL9xLP.mp4",
    image: 'http://content.jwplatform.com/thumbs/lWMJeVvV-480.jpg',
    width: 550,
    height: 310,
	primary: 'html5',
	tracks: [{
		file:'//s3.amazonaws.com/demo.jwplayer.com/timeline-interaction/chapters.txt',
		kind:'chapters'
	}],
	repeat: true
});
var theStatue = false;
var thePark = false;
var theWtc = false;
var theRock = false;
var theTimes = false;
var theCh = false;
var theStatue2 = false;
var thePark2 = false;
var theWtc2 = false;
var theRock2 = false;
var theTimes2 = false;
var theCh2 = false;
jwplayer().onTime(function(event){
	if (event.position >= 12 && event.position < 29 && theStatue == false) {
		updateFlickr('statue of liberty');
		updateTwitter();
		document.getElementById('statue').style.display = "inline";
		document.getElementById('central').style.display = "none";
		document.getElementById('wtc').style.display = "none";
		document.getElementById('rock').style.display = "none";
		document.getElementById('times').style.display = "none";
		document.getElementById('ch').style.display = "none";
		theStatue = true;
		thePark = false;
		theWtc = false;
		theRock = false;
		theTimes = false;
		theCh = false;
	}
	if (event.position >= 30 && event.position < 54 && thePark == false) {
		updateFlickr('central park');
		updateTwitter();
		document.getElementById('statue').style.display = "none";
		document.getElementById('central').style.display = "inline";
		document.getElementById('wtc').style.display = "none";
		document.getElementById('rock').style.display = "none";
		document.getElementById('times').style.display = "none";
		document.getElementById('ch').style.display = "none";
		theStatue = false;
		thePark = true;
		theWtc = false;
		theRock = false;
		theTimes = false;
		theCh = false;
	}
	if (event.position >= 55 && event.position < 80 && theWtc == false) {
		updateFlickr('world trade center');
		updateTwitter();
		document.getElementById('statue').style.display = "none";
		document.getElementById('central').style.display = "none";
		document.getElementById('wtc').style.display = "inline";
		document.getElementById('rock').style.display = "none";
		document.getElementById('times').style.display = "none";
		document.getElementById('ch').style.display = "none";
		theStatue = false;
		thePark = false;
		theWtc = true;
		theRock = false;
		theTimes = false;
		theCh = false;
	}
	if (event.position >= 81 && event.position < 95 && theRock == false) {
		updateFlickr('rockefeller center');
		updateTwitter();
		document.getElementById('statue').style.display = "none";
		document.getElementById('central').style.display = "none";
		document.getElementById('wtc').style.display = "none";
		document.getElementById('rock').style.display = "inline";
		document.getElementById('times').style.display = "none";
		document.getElementById('ch').style.display = "none";
		theStatue = false;
		thePark = false;
		theWtc = false;
		theRock = true;
		theTimes = false;
		theCh = false;
	}
	if (event.position >= 96 && event.position < 119 && theTimes == false) {
		updateFlickr('times square');
		updateTwitter();
		document.getElementById('statue').style.display = "none";
		document.getElementById('central').style.display = "none";
		document.getElementById('wtc').style.display = "none";
		document.getElementById('rock').style.display = "none";
		document.getElementById('times').style.display = "inline";
		document.getElementById('ch').style.display = "none";
		theStatue = false;
		thePark = false;
		theWtc = false;
		theRock = false;
		theTimes = true;
		theCh = false;
	}
	if (event.position >= 120 && event.position < 139 && theCh == false) {
		updateFlickr('chrysler building');
		updateTwitter();
		document.getElementById('statue').style.display = "none";
		document.getElementById('central').style.display = "none";
		document.getElementById('wtc').style.display = "none";
		document.getElementById('rock').style.display = "none";
		document.getElementById('times').style.display = "none";
		document.getElementById('ch').style.display = "inline";
		theStatue = false;
		thePark = false;
		theWtc = false;
		theRock = false;
		theTimes = false;
		theCh = true;
	}
});
jwplayer().onComplete(function(){
	map = new google.maps.Map(document.getElementById('map'), {
      zoom: 12,
      center: new google.maps.LatLng(40.7390615, -73.999231),
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });
	infowindow = new google.maps.InfoWindow();
    marker, i;
    for (i = 0; i < locations.length; i++) {  
      marker = new google.maps.Marker({
        position: new google.maps.LatLng(locations[i][1], locations[i][2]),
        map: map
      });
      google.maps.event.addListener(marker, 'click', (function(marker, i) {
        return function() {
          infowindow.setContent(locations[i][0]);
          infowindow.open(map, marker);
		  if(locations[i][0] == "Statue of Liberty"){
			jwplayer().seek(12);
		  }
		  if(locations[i][0] == "Central Park"){
			jwplayer().seek(30);
		  }
		  if(locations[i][0] == "World Trade Center"){
			jwplayer().seek(55);
		  }
		  if(locations[i][0] == "Rockefeller Center"){
			jwplayer().seek(80);
		  }
		  if(locations[i][0] == "Times Square"){
			jwplayer().seek(96);
		  }
		  if(locations[i][0] == "Chrysler Building"){
			jwplayer().seek(120);
		  }
        }
      })(marker, i));
    }
});
</script>

<script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
<div id="map"></div>
<script type="text/javascript">
    var locations = [
      ['Statue of Liberty', 40.6892, -74.0444, 6],
      ['Central Park', 40.7789, -73.9675, 5],
      ['World Trade Center', 40.7117, -74.0125, 4],
      ['Rockefeller Center', 40.7586, -73.9792, 3],
      ['Times Square', 40.7577, -73.9857, 2],
	  ['Chrysler Building', 40.7517, -73.9753, 1]
    ];
	var statue = new google.maps.Marker({position: new google.maps.LatLng(40.6892, -74.0444),map: map});
	var central = new google.maps.Marker({position: new google.maps.LatLng(40.7789, -73.9675),map: map});
	var world = new google.maps.Marker({position: new google.maps.LatLng(40.7117, -74.0125),map: map});
	var rock = new google.maps.Marker({position: new google.maps.LatLng(40.7586, -73.9792),map: map});
	var times = new google.maps.Marker({position: new google.maps.LatLng(40.7577, -73.9857),map: map});
	var ch = new google.maps.Marker({position: new google.maps.LatLng(40.7517, -73.9753),map: map});
	jwplayer().onTime(function(event){
		if (event.position >= 12 && event.position < 29 && theStatue2 == false) {
			infowindow.setContent(locations[0][0]);
			infowindow.open(map,statue);
			map.setZoom(15);
			theStatue2 = true;
			thePark2 = false;
			theWtc2 = false;
			theRock2 = false;
			theTimes2 = false;
			theCh2 = false;
		}
		if (event.position >= 30 && event.position < 54 && thePark2 == false) {
			infowindow.setContent(locations[1][0]);
			infowindow.open(map,central);
			map.setZoom(15);
			theStatue2 = false;
			thePark2 = true;
			theWtc2 = false;
			theRock2 = false;
			theTimes2 = false;
			theCh2 = false;
		}
		if (event.position >= 55 && event.position < 80 && theWtc2 == false) {
			infowindow.setContent(locations[2][0]);
			infowindow.open(map,world);
			map.setZoom(15);
			theStatue2 = false;
			thePark2 = false;
			theWtc2 = true;
			theRock2 = false;
			theTimes2 = false;
			theCh2 = false;
		}
		if (event.position >= 81 && event.position < 95 && theRock2 == false) {
			infowindow.setContent(locations[3][0]);
			infowindow.open(map,rock);
			map.setZoom(15);
			theStatue2 = false;
			thePark2 = false;
			theWtc2 = false;
			theRock2 = true;
			theTimes2 = false;
			theCh2 = false;
		}
		if (event.position >= 96 && event.position < 119 && theTimes2 == false) {
			infowindow.setContent(locations[4][0]);
			infowindow.open(map,times);
			map.setZoom(15);
			theStatue2 = false;
			thePark2 = false;
			theWtc2 = false;
			theRock2 = false;
			theTimes2 = true;
			theCh2 = false;
		}
		if (event.position >= 120 && event.position < 139 && theCh2 == false) {
			infowindow.setContent(locations[5][0]);
			infowindow.open(map,ch);
			map.setZoom(15);
			theStatue2 = false;
			thePark2 = false;
			theWtc2 = false;
			theRock2 = false;
			theTimes2 = false;
			theCh2 = true;
		}
	});
    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 12,
      center: new google.maps.LatLng(40.7390615, -73.999231),
      mapTypeId: google.maps.MapTypeId.ROADMAP
    });
    var infowindow = new google.maps.InfoWindow();
    var marker, i;
    for (i = 0; i < locations.length; i++) {  
      marker = new google.maps.Marker({
        position: new google.maps.LatLng(locations[i][1], locations[i][2]),
        map: map
      });
      google.maps.event.addListener(marker, 'click', (function(marker, i) {
        return function() {
          infowindow.setContent(locations[i][0]);
          infowindow.open(map, marker);
		  if(locations[i][0] == "Statue of Liberty"){
			jwplayer().seek(12);
		  }
		  if(locations[i][0] == "Central Park"){
			jwplayer().seek(30);
		  }
		  if(locations[i][0] == "World Trade Center"){
			jwplayer().seek(55);
		  }
		  if(locations[i][0] == "Rockefeller Center"){
			jwplayer().seek(80);
		  }
		  if(locations[i][0] == "Times Square"){
			jwplayer().seek(96);
		  }
		  if(locations[i][0] == "Chrysler Building"){
			jwplayer().seek(120);
		  }
        }
      })(marker, i));
    }
  </script>
  </div>
	</div>
</div>
</body>

</html>